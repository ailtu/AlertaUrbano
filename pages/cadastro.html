<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro-se</title>

    <link rel="stylesheet" href="../css/cadastro.css">
    <link rel="shortcut icon" href="../favicon.ico" type="image/x-icon">
</head>

<body>
    <div class="container">
        <div class="register-box">
            <img src="../images/login-img/logo.png.png" alt="Alerta Urbano" class="logo">
            <h2>Criar Conta</h2>

            <div class="input-group">
                <input type="text" id="nome" placeholder="Nome completo" required>
            </div>
            <div class="input-group">
                <input type="email" id="email" placeholder="Email" required>
            </div>
            <div class="input-group">
                <input type="password" id="senha" placeholder="Senha" required>
            </div>
            <div class="input-group">
                <input type="password" id="confirmarSenha" placeholder="Confirmar Senha" required>
            </div>

            <button class="btn-register" onclick="cadastrarUsuario()">Cadastrar</button>

            <div class="divider">ou</div>

            <button class="google-btn">
                <img src="https://img.icons8.com/color/16/000000/google-logo.png" />
                Continue com o Google
            </button>

            <p class="login-link">
                Já tem uma conta? <a href="../index.html" class="link-custom">Entrar</a>
            </p>
        </div>
    </div>

    <!-- Script de cadastro ajustar com o novo bd -->
    </script>
    // Função de cadastro
    async function cadastrarUsuario() {
    const nome = document.getElementById('nome').value;
    const email = document.getElementById('email').value;
    const senha = document.getElementById('senha').value;
    const confirmarSenha = document.getElementById('confirmarSenha').value;

    if (senha !== confirmarSenha) {
    alert("As senhas não coincidem.");
    return;
    }

    const user = new Parse.User();
    user.set("username", email);
    user.set("email", email);
    user.set("password", senha);
    user.set("nome", nome);

    try {
    await user.signUp();
    alert("Cadastro realizado com sucesso!");
    window.location.href = "../index.html"; // Redireciona após cadastro
    } catch (error) {
    alert("Erro: " + error.message);
    }
    }
    </script>

</body>

</html>